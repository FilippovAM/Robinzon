!function(a){if("function"==typeof define&&define.amd)define(["$"],a);else{var b=window.Mobify&&window.Mobify.$||window.Zepto||window.jQuery;a(b)}}(function(a){var b=function(a){var b={},c=navigator.userAgent,d=a.support=a.support||{};a.extend(a.support,{touch:"ontouchend"in document}),b.events=d.touch?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"},b.getCursorPosition=d.touch?function(a){return a=a.originalEvent||a,{x:a.touches[0].clientX,y:a.touches[0].clientY}}:function(a){return{x:a.clientX,y:a.clientY}},b.getProperty=function(a){for(var b=["Webkit","Moz","O","ms",""],c=document.createElement("div").style,d=0;d<b.length;++d)if(void 0!==c[b[d]+a])return b[d]+a},a.extend(d,{transform:!!b.getProperty("Transform"),transform3d:!(!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)||/android\s+[1-2]/i.test(c))});var e=b.getProperty("Transform");d.transform3d?b.translateX=function(a,b){"number"==typeof b&&(b+="px"),a.style[e]="translate3d("+b+",0,0)"}:d.transform?b.translateX=function(a,b){"number"==typeof b&&(b+="px"),a.style[e]="translate("+b+",0)"}:b.translateX=function(a,b){"number"==typeof b&&(b+="px"),a.style.left=b};var f=(b.getProperty("Transition"),b.getProperty("TransitionDuration"));return b.setTransitions=function(a,b){b?a.style[f]="":a.style[f]="0s"},b.requestAnimationFrame=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},b=function(){a.apply(window,arguments)};return b}(),b}(a),c=function(a,b){var c={dragRadius:10,moveRadius:20,animate:!0,autoHideArrows:!1,classPrefix:"m-",classNames:{outer:"scooch",inner:"scooch-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active",inactive:"inactive",fluid:"fluid"}},d=a.support,e=function(a,b){this.setOptions(b),this.initElements(a),this.initOffsets(),this.initAnimation(),this.bind(),this._updateCallbacks=[]};return e.defaults=c,e.prototype.setOptions=function(b){var d=this.options||a.extend({},c,b);d.classNames=a.extend({},d.classNames,b.classNames||{}),this.options=d},e.prototype.initElements=function(b){this._index=1,this.element=b,this.$element=a(b),this.$inner=this.$element.find("."+this._getClass("inner")),this.$items=this.$inner.children(),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this.$current=this.$items.eq(this._index-1),this._length=this.$items.length,this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0,this._isFluid=this.$element.hasClass(this._getClass("fluid"))},e.prototype.initOffsets=function(){this._offsetDrag=0},e.prototype.initAnimation=function(){this.animating=!1,this.dragging=!1,this._needsUpdate=!1,this._enableAnimation()},e.prototype._getClass=function(a){return this.options.classPrefix+this.options.classNames[a]},e.prototype._enableAnimation=function(){this.animating||(b.setTransitions(this.$inner[0],!0),this.$inner.removeClass(this._getClass("dragging")),this.animating=!0)},e.prototype._disableAnimation=function(){this.animating&&(b.setTransitions(this.$inner[0],!1),this.$inner.addClass(this._getClass("dragging")),this.animating=!1)},e.prototype.refresh=function(){this.$items=this.$inner.children("."+this._getClass("item")),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this._length=this.$items.length,this.update()},e.prototype.update=function(a){if("undefined"!=typeof a&&this._updateCallbacks.push(a),!this._needsUpdate){this._needsUpdate=!0;var c=this;b.requestAnimationFrame(function(){c._update(),setTimeout(function(){for(var a=0,b=c._updateCallbacks.length;b>a;a++)c._updateCallbacks[a].call(c);c._updateCallbacks=[]},10)})}},e.prototype._update=function(){if(this._needsUpdate){var a=this.$current,c=this.$start,d=a.prop("offsetLeft")+a.prop("clientWidth")*this._alignment,e=c.prop("offsetLeft")+c.prop("clientWidth")*this._alignment,f=Math.round(-(d-e)+this._offsetDrag);b.translateX(this.$inner[0],f),this._needsUpdate=!1}},e.prototype.bind=function(){function c(a){d.touch||a.preventDefault(),m=!0,n=!1,h=b.getCursorPosition(a),i=0,j=0,k=!1,p._disableAnimation(),t=1==p._index,u=p._index==p._length}function e(a){if(m&&!n){var c=b.getCursorPosition(a),d=p.$element.width();i=h.x-c.x,j=h.y-c.y,k||l(i)>l(j)&&l(i)>o?(k=!0,a.preventDefault(),t&&0>i?i=i*-d/(i-d):u&&i>0&&(i=i*d/(i+d)),p._offsetDrag=-i,p.update()):l(j)>l(i)&&l(j)>o&&(n=!0)}}function f(a){m&&(m=!1,p._enableAnimation(),!n&&l(i)>s.moveRadius?i>0?p.next():p.prev():(p._offsetDrag=0,p.update()))}function g(a){k&&a.preventDefault()}var h,i,j,k,l=Math.abs,m=!1,n=!1,o=this.options.dragRadius,p=this,q=this.$element,r=this.$inner,s=this.options,t=!1,u=!1,v=a(window).width();r.on(b.events.down+".scooch",c).on(b.events.move+".scooch",e).on(b.events.up+".scooch",f).on("click.scooch",g).on("mouseout.scooch",f),q.on("click","[data-m-slide]",function(b){b.preventDefault();var c=a(this).attr("data-m-slide"),d=parseInt(c,10);isNaN(d)?p[c]():p.move(d)}),q.on("afterSlide",function(a,b,c){p.$items.eq(b-1).removeClass(p._getClass("active")),p.$items.eq(c-1).addClass(p._getClass("active")),p.$element.find("[data-m-slide='"+b+"']").removeClass(p._getClass("active")),p.$element.find("[data-m-slide='"+c+"']").addClass(p._getClass("active")),s.autoHideArrows&&(1===c?(p.$element.find("[data-m-slide=prev]").addClass(p._getClass("inactive")),p.$element.find("[data-m-slide=next]").removeClass(p._getClass("inactive"))):c===p._length?(p.$element.find("[data-m-slide=next]").addClass(p._getClass("inactive")),p.$element.find("[data-m-slide=prev]").removeClass(p._getClass("inactive"))):(p.$element.find("[data-m-slide=prev]").removeClass(p._getClass("inactive")),p.$element.find("[data-m-slide=next]").removeClass(p._getClass("inactive"))))}),a(window).on("resize orientationchange",function(b){v!=a(window).width()&&(p._disableAnimation(),v=a(window).width(),p.update())}),q.trigger("beforeSlide",[1,1]),q.trigger("afterSlide",[1,1]),p.update()},e.prototype.unbind=function(){this.$inner.off()},e.prototype.destroy=function(){this.unbind(),this.$element.trigger("destroy"),this.$element.remove(),this.$element=null,this.$inner=null,this.$start=null,this.$current=null},e.prototype.move=function(b,c){var d=this.$element,e=(this.$inner,this.$items),f=(this.$start,this.$current),g=this._length,h=this._index;c=a.extend({},this.options,c),1>b?b=1:b>this._length&&(b=g),b==this._index,c.animate?this._enableAnimation():this._disableAnimation(),d.trigger("beforeSlide",[h,b]),this.$current=f=e.eq(b-1),this._offsetDrag=0,this._index=b,c.animate?this.update():this.update(function(){this._enableAnimation()}),d.trigger("afterSlide",[h,b])},e.prototype.next=function(){this.move(this._index+1)},e.prototype.prev=function(){this.move(this._index-1)},e}(a,b);a.fn.scooch=function(b,d){var e=a.extend({},a.fn.scooch.defaults);return"object"==typeof b&&(a.extend(e,b,!0),d=null,b=null),d=Array.prototype.slice.apply(arguments),this.each(function(){var f=(a(this),this._scooch);f||(f=new c(this,e)),b&&(f[b].apply(f,d.slice(1)),"destroy"===b&&(f=null)),this._scooch=f}),this},a.fn.scooch.defaults={}});